##  ä¸€äº›å¸¸ç”¨çš„è®¾ç½®é¡¹, æ‰¾åˆ°éœ€è¦è¿›è¡Œçš„è®¾ç½®æ‰€åœ¨çš„è¡Œ,
##  å–æ¶ˆæ³¨é‡Š (åˆ é™¤è¡Œå¼€å¤´çš„å•ä¸ª # ç¬¦å·) å³å¯å¯ç”¨è¯¥è®¾ç½®é¡¹.
##  æ³¨æ„ä¸è¦åˆ é™¤å‰é¢çš„ç©ºæ ¼, YAML æ–‡ä»¶çš„ç¼©è¿›æ¯”è¾ƒä¸¥æ ¼, ç¼©è¿›ä¸å¯¹å®¹æ˜“æŠ¥é”™.

patch:

  # å€™é€‰èœå•
  menu/+:
    alternative_select_labels: [ â‘ , â‘¡, â‘¢, â‘£, â‘¤, â‘¥, â‘¦, â‘§, â‘¨, â“ª ]
    # alternative_select_keys: 1234890      # å€™é€‰é¡¹é€‰ä¸­å¿«æ·é”®
    page_size: 7                            # è‡ªå®šä¹‰å€™é€‰é¡¹ä¸ªæ•°

  # å€™é€‰èœå•å¸ƒå±€æ ·å¼
  style/+:
    horizontal: false                 # æ¨ªå‘(true)/çºµå‘(é»˜è®¤false)

  switches/+:
    # - name: prediction
    #   states: [è”æƒ³å…³, è”æƒ³å¼€]
    #   reset: 0
    - name: emoji
      states: [ğŸˆšï¸, ğŸ˜„]
      reset: 1
    - name: extended_charset
      states: [é€šç”¨, å¢å»£]
      reset: 1
    - name: charset_comment
      states: [ç åŒºæç¤ºå…³, ç åŒºæç¤ºå¼€]
      reset: 0

  engine/+:
    processors/+:
    segmentors/+:
    translators/+:
    filters/+:
  'engine/processors/@before 0': lua_processor@space_leader_word
  'engine/filters/@before last': lua_filter@cn_space_en_filter
  # 'engine/processors/@before 0': predictor
  # "engine/translators/@before 0": predict_translator

  key_binder/+:
    import_preset: default            # ä» default.yaml ç»§æ‰¿é€šç”¨çš„
    # search: "`"                     # è¾…ç å¼•å¯¼ç¬¦
    pin_cand: "Control+t"             # å€™é€‰è¯ç½®é¡¶
    drop_cand: "Control+d"            # å¼ºåˆ¶åˆ è¯, æ— è§†è¾“å…¥çš„ç¼–ç 
    hide_cand: "Control+x"            # åŒ¹é…å½“å‰è¾“å…¥ç åéšè—æŒ‡å®šçš„å€™é€‰å­—è¯
    turn_down_cand: "Control+j"       # åŒ¹é…å½“å‰è¾“å…¥ç åé™é¢‘æŒ‡å®šçš„å€™é€‰å­—è¯
    switch_comment: "Control+n"       # åˆ‡æ¢æ³¨é‡Š(å°é¹¤å½¢ç  / å¸¦è°ƒæ‹¼éŸ³ / æ— )
    commit_comment: "Control+p"       # æ³¨é‡Šä¸Šå±
    switch_english: "Control+g"       # åˆ‡æ¢åˆ°è‹±æ–‡è¾“å…¥æ–¹æ¡ˆ
    expand_abbr_py: "Control+0"       # å±•å¼€è¶…çº§ç®€æ‹¼
    select_first_character: "minus"   # `-` ä»¥è¯å®šå­—(ç¬¬ä¸€ä¸ªå­—)
    select_last_character:  "equal"   # `=` ä»¥è¯å®šå­—(æœ€åä¸€ä¸ªå­—)
    bindings/+:
      - { when: has_menu,  accept: semicolon,  send: 2 }    # åˆ†å·ç”¨äºç¬¬2å€™é€‰
      - { when: has_menu,  accept: apostrophe, send: 3 }    # å•å¼•å·ç”¨äºç¬¬3å€™é€‰
      - { when: paging,    accept: comma,  send: Page_Up }  # é€—å·è¿”å›ä¸Šä¸€é¡µ
      - { when: has_menu,  accept: period, send: Page_Down }
      - { when: composing, accept: grave,  send: "`" }      # `é”® é€å­—è¿½åŠ è¾…ç 
      - { when: composing, accept: Control+i, send: Shift+Left }
      - { when: composing, accept: Control+o, send: Shift+Right }
      - { when: has_menu,  accept: Control+slash, toggle: simplification }
      - { when: has_menu,  accept: Control+Shift+slash, toggle: emoji }
      - { when: has_menu,  accept: Control+Shift+comma, toggle: charset_comment }

  recognizer/+:
    patterns/+:
      week: "^/wk$"
      time: "^/wt$"
      date: "^(/wd|/rq)$"
      chinese_lunar: "^/nl$"
      switch_options: "^/so$"
      history: "^/hs$"
      shortcuts: "^/fj[a-z]*$"
      flypy_help: "^/(oh|help)$"
      flypy_key_help: "^/ok[a-z]*$"
      LaTeX: "^/lt(.*)$"
      easy_en: "^/oe[a-zA-Z]*$"
      chinese_number: "^/cn[0-9.]*$"
      radical_lookup: "~[a-z]+$"              # ~ å¼•å¯¼éƒ¨ä»¶æ‹†å­—, ä½¿ç”¨å°é¹¤åŒæ‹¼ç¼–ç 

  punctuator/+:
    full_shape/+:
    half_shape/+:
      # '"': {pair: ['â€˜', 'â€™']}
      # "'": {pair: ['â€œ', 'â€']}
      # ";": {commit: "ï¼›"}         ## å–æ¶ˆæ³¨é‡Šå, ä¸‹è¡Œæ·»åŠ æ³¨é‡Š, ä»¥æ¢å¤é»˜è®¤åˆ†å·
      ";": [";", "ï¼›"]
      "@":
        - "@"
        # - "@xxx.com"
        - "@gmail.com"
        - "@foxmail.com"
        - "@outlook.com"
        - "@hotmail.com"
        - "@qq.com"
        - "@163.com"
        - "@139.com"
    symbols/+:

  speller/+:
    algebra/+:
      - derive/[[]//                            # å–æ¶ˆæ³¨é‡Šï¼Œé—´æ¥è¾…ç 

      ## æ¨¡ç³ŠéŸ³:
      - derive/^([jqxy])v/$1u/
      - derive/^([jqxy])u/$1v/
      - derive/^u([h])/s$1/                     # uh => sh
      - derive/^(i)g/$1f/                       # c[h]eng => c[h]en
      - derive/^([ypbn])b/$1k/                  # in => ing
      - derive/^z([^acdefghijklmnsu])/v$1/      # z => zh
      - derive/^c([^acdefghijklmsuo])/i$1/      # c => ch
      - derive/^s([^abcdefghijklmnu])/u$1/      # s => sh
      # - derive/^l(.*)$/n$1/                   # l => n
      # - derive/^n(.*)$/l$1/                   # n => l
      # - derive/^v(.*)/z$1/                    # zh => z
      # - derive/^i(.*)/c$1/                    # ch => c
      # - derive/^u(.*)/s$1/                    # sh => s
      # - derive/^([viu])g/$1f/                 # [zcs][h]eng => [zcs][h]en
      # - derive/^([viu])f/$1g/                 # [zcs][h]en => [zcs][h]eng
      # - derive/^([typdjxbm])k/$1b/            # ing => in

  history:                            # ä¸Šå±å†å²è®°å½•
    tips: "ä¸Šå±å†å²"
    tag: history
    prefix: "/hs"
    size: 30
    history_num_max: 30
    initial_quality: 1000
    excluded_types: ["punct"]

  pin_word:                           # è¯æ¡ç½®é¡¶é…ç½®
    word_quality: 1000
    comment_mark: " ğŸ”"
    excluded_types: ["flypy_key_help", "easy_en", "radical_lookup"]

  long_word_up:                       # é•¿è¯å‡é¢‘åˆ°ç¬¬ idx ä¸ªä½ç½®
    idx: 3
    excluded_codes: ["date", "rq", "week", "time", "lunar"]

  cold_wold_reduce:                   # ç”Ÿåƒ»è¯æ¡é™é¢‘åˆ°ç¬¬ idx ä¸ªä½ç½®
    idx: 4
    excluded_types: ["easy_en"]

  emoji_reduce:                       # Emoji é™é¢‘åˆ°ç¬¬ idx ä¸ªä½ç½®
    idx: 6

  predictor:
    db: predict.db
    max_candidates: 2
    max_iterations: 2
